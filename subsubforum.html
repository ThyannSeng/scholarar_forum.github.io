<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scholarship Discussion</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom scrollbar styles */
    /* Firefox */
    .sidebar {
      scrollbar-width: thin;
      scrollbar-color: #b9b9b9 #f5f5f5;
    }

    /* Chrome, Edge, and Safari */
    .sidebar::-webkit-scrollbar {
      width: 8px;
    }

    .sidebar::-webkit-scrollbar-track {
      background: #f5f5f5;
    }

    .sidebar::-webkit-scrollbar-thumb {
      background-color: #888;
      border-radius: 10px;
      border: 2px solid #f5f5f5;
    }

    .sidebar::-webkit-scrollbar-thumb:hover {
      background-color: #555;
    }

    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      border-bottom: 1px solid #d3d3d3;
    }

    .main-container {
      display: flex;
      height: calc(100% - 60px);
      margin-top: 60px;
    }

    .sidebar {
      width: 280px;
      padding: 8px;
      padding-left: 10px;
      padding-top: 25px;
      border-right: 1px solid #d3d3d3;
      overflow-y: auto;
      background-color: #ffffff;
    }

    .menu-section {
      margin-bottom: 0px;
    }

    .menu-section h3 {
      text-transform: uppercase;
      font-size: 12px;
      color: #646464;
      padding: 25px;
      padding-left: 5px;
      padding-top: 10px;
      padding-bottom: 10px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .menu-section h3 i {
      margin-right: 10px;
    }

    .menu-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
      padding-left: 15px;
      padding-top: 10px;
      padding-bottom: 10px;
      padding-right: 5px;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s;
      color: #333;
      text-decoration: none;
    }

    .menu-item:hover {
      background-color: #f5f5f5;
    }

    .menu-item i {
      width: 20px;
      color: #888;
      margin-right: 10px;
    }

    .menu-item.active {
      background-color: #e8e8e8;
    }

    .submenu,
    .subsubmenu,
    .subsubsubmenu {
      padding: 0;
      display: none;
    }

    .submenu-item,
    .subsubmenu-item,
    .subsubsubmenu-item {
      padding: 8px 0;
      padding-left: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      color: #555;
    }

    .subsubmenu,
    .subsubsubmenu {
      margin-left: 20px;
      padding-left: 5px;
      border-left: 1px solid #d3d3d3;
    }

    .main-content {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 5px;
      flex-grow: 1;
      overflow-y: auto;
    }

    .question-list h2 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .question-item {
      background-color: #f9fafb;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 10px;
      display: block;
      text-decoration: none;
      color: inherit;
      transition: background-color 0.3s;
    }

    .question-item:hover {
      background-color: #e2e8f0;
    }

    .question-item h3 {
      font-size: 18px;
      font-weight: 500;
      color: #374151;
    }

    .question-item p {
      color: #555;
      margin: 5px 0;
    }

    .question-item a {
      color: #0d6efd;
      text-decoration: none;
    }

    .question-item a:hover {
      text-decoration: underline;
    }

    .toggle-btn {
      cursor: pointer;
    }

    .fa-chevron-up,
    .fa-chevron-down {
      position: relative;
      color: #888;
      right: -15px;
    }

    .sidebar-title {
      font-size: 22px;
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
    }

    .sidebar-description {
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }

    .footer-links {
      margin-top: 20px;
      padding: 10px 0;;
    }

    .footer-links a {
      display: block;
      color: #374151;
      padding: 10px 0;
      text-decoration: none;
    }

    .footer-links a:hover {
      color: #0d6efd;
    }

    .main-content {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 5px;
      flex-grow: 1;
      overflow-y: auto;
    }

    .breadcrumb {
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      font-size: 14px;
      color: #6b7280;
    }

    .breadcrumb a {
      color: #0d6efd;
      text-decoration: none;
    }

    .breadcrumb a:hover {
      text-decoration: underline;
    }

    .breadcrumb span {
      margin: 0 5px;
    }

    .question-details {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }

    .question-details h1 {
      font-size: 24px;
      font-weight: 700;
      color: #2d3748;
    }

    .question-details p {
      font-size: 16px;
      color: #4a5568;
      margin-top: 5px;
    }

    .question-header {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .question-header img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 10px;
    }

    .question-header div {
      font-size: 16px;
      font-weight: 600;
      color: #2d3748;
    }

    .comments-section h2 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .comment-box {
      display: flex;
      flex-direction: column;
      margin-bottom: 20px;
    }

    .comment-box textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #e5e7eb;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .comment-box button {
      align-self: flex-end;
      background-color: #0d6efd;
      color: #ffffff;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .comment-box button:hover {
      background-color: #0b5ed7;
    }

    .comment {
      background-color: #f9fafb;
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .comment p {
      color: #374151;
    }

    .comment .comment-footer {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }

    .comment .comment-footer button {
      background-color: transparent;
      color: #0d6efd;
      cursor: pointer;
      display: flex;
      align-items: center;
      margin-right: 10px;
    }

    .comment .comment-footer button:hover {
      text-decoration: underline;
    }

    .comment .comment-footer button .fa-thumbs-up {
      margin-right: 5px;
    }

    .comment .user-name {
      font-weight: 600;
      margin-right: 10px;
    }

    .reply-section {
      margin-top: 10px;
      margin-left: 20px;
    }

    .reply-box {
      display: none;
      flex-direction: column;
      margin-bottom: 10px;
    }

    .reply-box textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #e5e7eb;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .reply-box button {
      align-self: flex-end;
      background-color: #0d6efd;
      color: #ffffff;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .reply-box button:hover {
      background-color: #0b5ed7;
    }

    .reply {
      background-color: #e2e8f0;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .reply .user-name {
      font-weight: 600;
      margin-right: 10px;
    }


    .footer-links {
      margin-top: 20px;
      padding: 10px 0;
      border-top: 1px solid #d3d3d3;
    }

    .footer-links a {
      display: block;
      color: #374151;
      padding: 10px 0;
      text-decoration: none;
    }

    .footer-links a:hover {
      color: #0d6efd;
    }

    .sidebar-title {
      font-size: 22px;
      font-weight: bold;
      color: #333;
      margin-bottom: 5px;
    }

    .sidebar-description {
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }
  </style>
</head>
<body class="bg-gray-100">
  <header class="bg-white header">
    <div class="container mx-auto flex justify-between items-center py-1 px-5 lg:px-6">
      <div class="flex items-center">
        <a href="index.html">
          <img src="image/logo.jpg" alt="The Scholarar logo, a blue and green circle with a book and a graduation cap." style="width: 55px;">
        </a>
        <h1 class="text-2xl font-bold text-primary">Scholarar</h1>
        <div class="flex space-x-12 ml-8">
          <a href="index.html" class="text-zinc-700 hover:text-zinc-900">Scholarship</a>
          <a href="forum.html" class="text-gray-700 hover:text-primary">Forum</a>
        </div>
      </div>
      <div class="flex items-center">
        <div class="flex items-center space-x-4">
          <button class="p-2">üîç</button>
          <a href="https://web.facebook.com/scholarar" class="p-2 text-zinc-700 hover:text-zinc-900"><i class="fab fa-facebook"></i></a>
          <a href="https://t.me/scholarar" class="p-2 text-zinc-700 hover:text-zinc-900"><i class="fab fa-telegram"></i></a>
          <a href="https://www.tiktok.com/@scholararkh" class="p-2 text-zinc-700 hover:text-zinc-900"><i class="fab fa-tiktok"></i></a>
          <a href="login.html" class="block bg-zinc-200 p-2 rounded text-center text-gray-800 font-semibold hover:bg-zinc-300 transition duration-300">Login</a>
        </div>
      </div>
    </div>
  </header>

  <div class="main-container">
    <aside class="sidebar" id="sidebar-menu">
      <!-- The scholarship title and description will be inserted here dynamically -->
    </aside>

    <div class="main-content">
      <nav class="breadcrumb">
        <a href="forum.html">Forum</a>
        <span>‚Ä∫</span>
        <a id="subforum-link" href="#"></a>
        <span>‚Ä∫</span>
        <a id="subsubforum-link" href="#">Does MEXT Scholarship cover living expenses?</a>
      </nav>

      <div class="question-details">
        <div class="question-header">
          <img id="questioner-avatar" src="https://picsum.photos/seed/questioner/50" alt="Questioner Avatar">
          <div id="questioner-name">Alex Johnson</div>
        </div>
        <h1 id="question-title">Does MEXT Scholarship cover living expenses?</h1>
        <p id="question-description">I want to know if the MEXT Scholarship provides any allowances for living expenses.</p>
        <h2>Answers</h2>
        <div class="comment-box">
          <textarea id="commentBox" class="w-full p-2 text-zinc-700 border rounded-lg focus:outline-none" rows="4" placeholder="Write an answer..."></textarea>
          <button onclick="postComment()">Post Answer</button>
        </div>
      </div>
      <div class="comments-section">

        <div id="commentList" class="mt-4"></div>
      </div>

     
    </div>
  </div>

  <script>
    function postComment() {
      const commentBox = document.getElementById('commentBox');
      const commentList = document.getElementById('commentList');
      const newComment = document.createElement('div');
      newComment.className = 'comment';
      const commentId = `comment-${Date.now()}`;
      newComment.innerHTML = `
        <div class="answer-header">
          <img src="https://picsum.photos/seed/your-avatar/50" alt="Your Avatar">
          <div>You</div>
        </div>
        <p>${commentBox.value}</p>
        <div class="comment-footer">
          <button onclick="likeComment(this)">
            <i class="fa fa-thumbs-up"></i> Like
          </button>
          <span>0 likes</span>
          <button onclick="toggleReplyBox('${commentId}')">Reply</button>
        </div>
        <div class="reply-section" id="${commentId}">
          <div class="reply-box">
            <textarea class="w-full p-2 text-zinc-700 border rounded-lg focus:outline-none" rows="2" placeholder="Write a reply..."></textarea>
            <button onclick="postReply(this)">Post Reply</button>
          </div>
        </div>
      `;
      commentList.appendChild(newComment);
      commentBox.value = ''; // Clear the textarea after posting
    }

    function postReply(button) {
      const replyBox = button.parentElement;
      const replySection = replyBox.parentElement;
      const newReply = document.createElement('div');
      newReply.className = 'reply';
      const replyId = `reply-${Date.now()}`;
      newReply.innerHTML = `
        <div class="answer-header">
          <img src="https://picsum.photos/seed/your-avatar/50" alt="Your Avatar">
          <div>You</div>
        </div>
        <p><span class="user-name">You:</span> ${replyBox.querySelector('textarea').value}</p>
        <div class="comment-footer">
          <button onclick="likeComment(this)">
            <i class="fa fa-thumbs-up"></i> Like
          </button>
          <span>0 likes</span>
          <button onclick="toggleReplyBox('${replyId}')">Reply</button>
        </div>
        <div class="reply-section" id="${replyId}">
          <div class="reply-box">
            <textarea class="w-full p-2 text-zinc-700 border rounded-lg focus:outline-none" rows="2" placeholder="Write a reply..."></textarea>
            <button onclick="postReply(this)">Post Reply</button>
          </div>
        </div>
      `;
      replySection.appendChild(newReply);
      replyBox.querySelector('textarea').value = ''; // Clear the textarea after posting
    }

    function toggleReplyBox(commentId) {
      const replyBox = document.getElementById(commentId).querySelector('.reply-box');
      if (replyBox.style.display === 'none' || replyBox.style.display === '') {
        replyBox.style.display = 'flex';
      } else {
        replyBox.style.display = 'none';
      }
    }

    function likeComment(button) {
      const span = button.nextElementSibling;
      let likes = parseInt(span.innerText);
      span.innerText = `${++likes} likes`;
    }

    // Example data (replace this with actual data fetching logic)
    const questions = [
      {
        id: 101,
        scholarshipId: 1,
        scholarshipName: "MEXT Scholarship 2025",
        title: "Does MEXT Scholarship cover living expenses?",
        description: "I want to know if the MEXT Scholarship provides any allowances for living expenses.",
        user: {
          name: "Alex Johnson",
          avatar: "https://picsum.photos/seed/questioner/50"
        },
        comments: [
          {
            id: 1,
            user: {
              name: "John Doe",
              avatar: "https://picsum.photos/seed/user1/50"
            },
            content: "The MEXT Scholarship does cover living expenses. You will receive a monthly stipend.",
            replies: [
              {
                id: 1,
                user: {
                  name: "Alice Johnson",
                  avatar: "https://picsum.photos/seed/user2/50"
                },
                content: "Thank you for the information!"
              }
            ]
          },
          {
            id: 2,
            user: {
              name: "Jane Smith",
              avatar: "https://picsum.photos/seed/user2/50"
            },
            content: "I applied last year, and the process was quite straightforward. Make sure you have all your documents ready.",
            replies: []
          }
        ]
      },
      {
        id: 102,
        scholarshipId: 1,
        scholarshipName: "MEXT Scholarship",
        title: "What are the eligibility criteria for MEXT Scholarship?",
        description: "Can someone explain the eligibility requirements for applying to the MEXT Scholarship?",
        user: {
          name: "Chris Lee",
          avatar: "https://picsum.photos/seed/questioner2/50"
        },
        comments: [
          {
            id: 3,
            user: {
              name: "David Kim",
              avatar: "https://picsum.photos/seed/user3/50"
            },
            content: "You need to have a minimum GPA of 2.3 on a 3.0 scale and meet the language proficiency requirements.",
            replies: [
              {
                id: 2,
                user: {
                  name: "Emma Brown",
                  avatar: "https://picsum.photos/seed/user4/50"
                },
                content: "Is there any age limit for the scholarship?"
              },
              {
                id: 3,
                user: {
                  name: "David Kim",
                  avatar: "https://picsum.photos/seed/user3/50"
                },
                content: "Yes, you should be under 35 years of age at the time of application."
              }
            ]
          },
          {
            id: 4,
            user: {
              name: "Sophia Turner",
              avatar: "https://picsum.photos/seed/user5/50"
            },
            content: "In addition to GPA and language requirements, you need to pass the entrance exam.",
            replies: []
          }
        ]
      },
      {
        id: 201,
        scholarshipId: 2,
        scholarshipName: "GKS Scholarship",
        title: "How to apply for GKS Scholarship?",
        description: "Can anyone provide a step-by-step guide on applying for the GKS Scholarship?",
        user: {
          name: "Emma Brown",
          avatar: "https://picsum.photos/seed/questioner3/50"
        },
        comments: []
      }
      // Add more questions as needed
    ];

    // Extract query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const scholarshipId = urlParams.get('scholarshipId');
    const questionId = urlParams.get('questionId');

    // Find the question by ID
    const question = questions.find(q => q.id === parseInt(questionId) && q.scholarshipId === parseInt(scholarshipId));

    // Populate the page with question details
    if (question) {
      document.getElementById('question-title').textContent = question.title;
      document.getElementById('question-description').textContent = question.description;
      document.querySelector('.question-header img').src = question.user.avatar;
      document.querySelector('.question-header div').textContent = question.user.name;
      document.getElementById('subforum-link').textContent = question.scholarshipName;
      document.getElementById('subforum-link').href = `subforum.html?scholarshipId=${scholarshipId}`;
      document.getElementById('subsubforum-link').textContent = question.title;
      document.getElementById('subsubforum-link').href = `subsubforum.html?scholarshipId=${scholarshipId}&questionId=${questionId}`;
      loadComments(question.comments);
      // Populate the sidebar with scholarship title and description
      document.getElementById('sidebar-menu').insertAdjacentHTML('afterbegin', `
        <div class="sidebar-title">${question.scholarshipName}</div>
        <div class="sidebar-description">${question.description}</div>
      `);
    } else {
      document.getElementById('question-title').textContent = 'Question not found';
    }

    function loadComments(comments) {
      const commentList = document.getElementById('commentList');
      comments.forEach(comment => {
        const commentId = `comment-${comment.id}`;
        const commentDiv = document.createElement('div');
        commentDiv.className = 'comment';
        commentDiv.innerHTML = `
          <div class="answer-header">
            <img src="${comment.user.avatar}" alt="User Avatar">
            <div>${comment.user.name}</div>
          </div>
          <p>${comment.content}</p>
          <div class="comment-footer">
            <button onclick="likeComment(this)">
              <i class="fa fa-thumbs-up"></i> Like
            </button>
            <span>0 likes</span>
            <button onclick="toggleReplyBox('${commentId}')">Reply</button>
          </div>
          <div class="reply-section" id="${commentId}">
            <div class="reply-box">
              <textarea class="w-full p-2 text-zinc-700 border rounded-lg focus:outline-none" rows="2" placeholder="Write a reply..."></textarea>
              <button onclick="postReply(this)">Post Reply</button>
            </div>
          </div>
        `;
        commentList.appendChild(commentDiv);
        loadReplies(comment.replies, commentDiv.querySelector('.reply-section'));
      });
    }

    function loadReplies(replies, replySection) {
      replies.forEach(reply => {
        const replyId = `reply-${reply.id}`;
        const replyDiv = document.createElement('div');
        replyDiv.className = 'reply';
        replyDiv.innerHTML = `
          <div class="answer-header">
            <img src="${reply.user.avatar}" alt="User Avatar">
            <div>${reply.user.name}</div>
          </div>
          <p><span class="user-name">${reply.user.name}:</span> ${reply.content}</p>
          <div class="comment-footer">
            <button onclick="likeComment(this)">
              <i class="fa fa-thumbs-up"></i> Like
            </button>
            <span>0 likes</span>
            <button onclick="toggleReplyBox('${replyId}')">Reply</button>
          </div>
          <div class="reply-section" id="${replyId}">
            <div class="reply-box">
              <textarea class="w-full p-2 text-zinc-700 border rounded-lg focus:outline-none" rows="2" placeholder="Write a reply..."></textarea>
              <button onclick="postReply(this)">Post Reply</button>
            </div>
          </div>
        `;
        replySection.appendChild(replyDiv);
      });
    }

    // Sidebar menu data
    const menuData = [
      {
        title: 'Host Universities',
        icon: 'fas fa-university',
        submenus: [
          { title: 'All applicants can choose their host university across Japan.', link: '#' }
        ]
      },
      {
        title: 'Course Level',
        icon: 'fas fa-graduation-cap',
        submenus: [
          {
            title: 'Undergraduate Degree Programs',
            sublinks: [
              { title: 'Duration: 4-5 years', link: '#' },
              {
                title: 'Fields of Study:', sublinks: [
                  { title: 'Social Sciences and Humanities', link: '#' },
                  { title: 'Natural Sciences', link: '#' }
                ]
              }
            ]
          },
          {
            title: 'Master‚Äôs Programs',
            sublinks: [
              { title: 'Duration: 2-3 years', link: '#' },
              { title: 'Fields of Study: All fields of study available at Japanese universities', link: '#' }
            ]
          },
          {
            title: 'Doctoral Programs (PhD)',
            sublinks: [
              { title: 'Duration: 3-4 years', link: '#' },
              { title: 'Fields of Study: All fields of study available at Japanese universities', link: '#' }
            ]
          },
          {
            title: 'College of Technology Programs',
            sublinks: [
              { title: 'Duration: 4 years', link: '#' },
              { title: 'Fields of Study: Mechanical Engineering', link: '#' },
              { title: 'Electrical and Electronic Engineering', link: '#' },
              { title: 'Information, Communication, and Network Engineering', link: '#' },
              { title: 'Materials Engineering', link: '#' },
              { title: 'Architecture and Civil Engineering', link: '#' },
              { title: 'Maritime Engineering', link: '#' },
              { title: 'Other related fields', link: '#' }
            ]
          },
          {
            title: 'Specialized Training Programs',
            sublinks: [
              { title: 'Duration: 3 years', link: '#' },
              { title: 'Fields of Study: Technology', link: '#' },
              { title: 'Personal Care and Nutrition', link: '#' },
              { title: 'Education and Welfare', link: '#' },
              { title: 'Business', link: '#' },
              { title: 'Fashion and Home Economics', link: '#' },
              { title: 'Culture and General Education', link: '#' },
              { title: 'Other fields available at Japanese special training schools', link: '#' }
            ]
          }
        ]
      },
      {
        title: 'MEXT Scholarship Categories',
        icon: 'fas fa-book',
        submenus: [
          { title: 'MEXT Undergraduate Scholarship 2023', link: '#' },
          { title: 'MEXT Research Scholarship 2023 (Masters and PhD)', link: '#' },
          { title: 'MEXT College of Technology Scholarship 2023', link: '#' },
          { title: 'MEXT Specialized Training Scholarship 2023', link: '#' }
        ]
      },
      {
        title: 'Scholarship Benefits',
        icon: 'fas fa-gift',
        submenus: [
          {
            title: 'Undergraduate Benefits',
            sublinks: [
              { title: 'A tuition fee will be provided.', link: '#' },
              { title: 'Airfare allowance will be provided.', link: '#' },
              { title: 'An exam fee will also be provided.', link: '#' },
              { title: 'A monthly stipend of up to 117,000 yen will be provided.', link: '#' },
              { title: 'Transportation allowance in Japan will be covered.', link: '#' }
            ]
          },
          {
            title: 'Research Benefits (Masters & PhD)',
            sublinks: [
              { title: 'A tuition fee will be provided.', link: '#' },
              { title: 'Airfare allowance will be provided.', link: '#' },
              { title: 'An exam fee will also be provided.', link: '#' },
              { title: 'Monthly stipend for Master‚Äôs students: up to 144,000 yen.', link: '#' },
              { title: 'Monthly stipend for doctoral students: up to 145,000 yen.', link: '#' },
              { title: 'Monthly stipend for non-regular students or preparatory education: up to 143,000 yen.', link: '#' },
              { title: 'Transportation allowance in Japan will be covered.', link: '#' }
            ]
          }
        ]
      },
      {
        title: 'Eligibility Criteria',
        icon: 'fas fa-check-circle',
        submenus: [
          { title: 'Diplomatic Relations', link: '#' },
          { title: 'Health Requirements', link: '#' },
          { title: 'Age Requirements', link: '#' },
          { title: 'Educational Requirements', link: '#' }
        ]
      },
      {
        title: 'Required Documents',
        icon: 'fas fa-file-alt',
        submenus: [
          { title: 'MEXT Application Form 2023', link: '#' },
          { title: 'Academic Transcripts', link: '#' },
          { title: 'Certificates of Graduation or Degree', link: '#' },
          { title: 'Recommendation Letters', link: '#' },
          { title: 'Medical Certificate', link: '#' },
          { title: 'Field of Study and Research Plan', link: '#' },
          { title: 'Passport', link: '#' },
          { title: 'CV', link: '#' },
          { title: 'Abstracts of Theses', link: '#' }
        ]
      },
      {
        title: 'Host Country',
        icon: 'fas fa-flag',
        submenus: [
          { title: 'Japan', link: '#' }
        ]
      },
      {
        title: 'Offered by',
        icon: 'fas fa-building',
        submenus: [
          { title: 'Ministry of Education, Culture, Sports, Science, and Technology', link: '#' }
        ]
      }
    ];

    function renderMenu() {
      const sidebarMenu = document.getElementById('sidebar-menu');
      sidebarMenu.innerHTML += menuData.map(section => `
        <div class="menu-section">
          ${section.submenus ? `
            <h3 onclick="toggleMenu('${section.title.replace(/\s+/g, '-').toLowerCase()}-menu')">
              <div style="display: flex; align-items: center;">
                <i class="${section.icon}"></i>
                <span>${section.title}</span>
              </div>
              <i class="fas fa-chevron-down"></i>
            </h3>
            <div id="${section.title.replace(/\s+/g, '-').toLowerCase()}-menu" class="submenu">
              ${section.submenus.map(item => `
                <div class="menu-item toggle-btn" onclick="${item.sublinks ? `toggleSubmenu(event, '${item.title.replace(/\s+/g, '-').toLowerCase()}-submenu')` : `window.location.href='${item.link}'`}">
                  <div style="display: flex; align-items: center;">
                    ${item.icon ? `<i class="${item.icon}"></i>` : ''}
                    <span>${item.title}</span>
                  </div>
                  ${item.sublinks ? '<i class="fas fa-chevron-down" style="font-size: 12px"></i>' : ''}
                </div>
                <div id="${item.title.replace(/\s+/g, '-').toLowerCase()}-submenu" class="subsubmenu">
                  ${item.sublinks ? item.sublinks.map(sublink => `
                    <div class="submenu-item toggle-btn" onclick="${sublink.sublinks ? `toggleSubmenu(event, '${sublink.title.replace(/\s+/g, '-').toLowerCase()}-subsubmenu')` : `window.location.href='${sublink.link}'`}">
                      <div style="display: flex; align-items: center;">
                        <span>${sublink.title}</span>
                        ${sublink.sublinks ? '<i class="fas fa-chevron-down" style="font-size: 12px"></i>' : ''}
                      </div>
                    </div>
                    <div id="${sublink.title.replace(/\s+/g, '-').toLowerCase()}-subsubmenu" class="subsubsubmenu">
                      ${sublink.sublinks ? sublink.sublinks.map(subsub => `
                        <div class="subsubmenu-item"><span>${subsub.title}</span></div>
                      `).join('') : ''}
                    </div>
                  `).join('') : ''}
                </div>
              `).join('')}
            </div>
          ` : `
            <a href="${section.link}" class="menu-item ${section.active ? 'active' : ''}">
              <div style="display: flex; align-items: center;">
                <i class="${section.icon}"></i>
                <span>${section.title}</span>
              </div>
            </a>
          `}
        </div>
        <hr>
      `).join('');

      // Append footer links
      sidebarMenu.innerHTML += `
        <div class="footer-links">
          <a href="#" class="flex items-center">
            <i class="fas fa-scroll"></i>
            <span class="ml-2">Content Policy</span>
          </a>
          <a href="#" class="flex items-center">
            <i class="fas fa-balance-scale"></i>
            <span class="ml-2">Privacy Policy</span>
          </a>
          <a href="#" class="flex items-center">
            <i class="fas fa-file-contract"></i>
            <span class="ml-2">User Agreement</span>
          </a>
          <p class="text-xs text-gray-500 mt-4">Scholarar ¬© 2024. All rights reserved.</p>
        </div>
      `;

      // Auto-expand all sections
      document.querySelectorAll('.menu-section').forEach(section => {
        const submenu = section.querySelector('.submenu');
        if (submenu) {
          submenu.style.display = 'block';
          const icon = section.querySelector('i:last-child');
          if (icon) {
            icon.classList.remove('fa-chevron-down');
            icon.classList.add('fa-chevron-up');
          }
        }
      });
    }

    function toggleMenu(menuId) {
      const submenu = document.getElementById(menuId);
      const icon = submenu.previousElementSibling.querySelector('.fa-chevron-down, .fa-chevron-up');
      if (submenu.style.display === 'none' || submenu.style.display === '') {
        submenu.style.display = 'block';
        if (icon) {
          icon.classList.remove('fa-chevron-down');
          icon.classList.add('fa-chevron-up');
        }
      } else {
        submenu.style.display = 'none';
        if (icon) {
          icon.classList.remove('fa-chevron-up');
          icon.classList.add('fa-chevron-down');
        }
      }
    }

    function toggleSubmenu(event, submenuId) {
      event.stopPropagation();
      toggleMenu(submenuId);
    }

    renderMenu();
  </script>
</body>
</html>
